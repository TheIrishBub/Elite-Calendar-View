{% extends "base.html" %}

{% block title %}Perfect Dark PRs{% endblock %}

{% block content %}
  <div class="pd-times">
    <h2>Showing Perfect Dark times page for {{ dateOne }}:</h2>
    <form method='post'>
      <label for="date">Date
        <input type="date" name="date" />
      </label>
      <input type="submit" value="Submit" />
    </form>
    <table border=1>
      <tr>
        <th>Stage</th>
        <th>Agent</th>
        <th>Special Agent</th>
        <th>Perfect Agent</th>
      </tr>
      <tr>
        <td>Defection</td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[21])}}">{{ times[21].minute }}:{{ "%02d" | format(times[21].second) }}</a></td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[23])}}">{{ times[23].minute }}:{{ "%02d" | format(times[23].second) }}</a></td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[22])}}">{{ times[22].minute }}:{{ "%02d" | format(times[22].second) }}</a></td>
      </tr>
      <tr>
        <td>Investigation</td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[39])}}">{{ times[39].minute }}:{{ "%02d" | format(times[39].second) }}</a></td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[41])}}">{{ times[41].minute }}:{{ "%02d" | format(times[41].second) }}</a></td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[40])}}">{{ times[40].minute }}:{{ "%02d" | format(times[40].second) }}</a></td>
      </tr>
      <tr>
        <td>Extraction</td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[30])}}">{{ times[30].minute }}:{{ "%02d" | format(times[30].second) }}</a></td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[32])}}">{{ times[32].minute }}:{{ "%02d" | format(times[32].second) }}</a></td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[31])}}">{{ times[31].minute }}:{{ "%02d" | format(times[31].second) }}</a></td>
      </tr>
      <tr>
        <td>Villa</td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[57])}}">{{ times[57].minute }}:{{ "%02d" | format(times[57].second) }}</a></td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[59])}}">{{ times[59].minute }}:{{ "%02d" | format(times[59].second) }}</a></td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[58])}}">{{ times[58].minute }}:{{ "%02d" | format(times[58].second) }}</a></td>
      </tr>
      <tr>
        <td>Chicago</td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[12])}}">{{ times[12].minute }}:{{ "%02d" | format(times[12].second) }}</a></td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[14])}}">{{ times[14].minute }}:{{ "%02d" | format(times[14].second) }}</a></td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[13])}}">{{ times[13].minute }}:{{ "%02d" | format(times[13].second) }}</a></td>
      </tr>
      <tr>
        <td>G5</td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[33])}}">{{ times[33].minute }}:{{ "%02d" | format(times[33].second) }}</a></td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[35])}}">{{ times[35].minute }}:{{ "%02d" | format(times[35].second) }}</a></td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[34])}}">{{ times[34].minute }}:{{ "%02d" | format(times[34].second) }}</a></td>
      </tr>
      <tr>
        <td>Infiltration</td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[36])}}">{{ times[36].minute }}:{{ "%02d" | format(times[36].second) }}</a></td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[38])}}">{{ times[38].minute }}:{{ "%02d" | format(times[38].second) }}</a></td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[37])}}">{{ times[37].minute }}:{{ "%02d" | format(times[37].second) }}</a></td>
      </tr>
      <tr>
        <td>Rescue</td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[51])}}">{{ times[51].minute }}:{{ "%02d" | format(times[51].second) }}</a></td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[53])}}">{{ times[53].minute }}:{{ "%02d" | format(times[53].second) }}</a></td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[52])}}">{{ times[52].minute }}:{{ "%02d" | format(times[52].second) }}</a></td>
      </tr>
      <tr>
        <td>Escape</td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[27])}}">{{ times[27].minute }}:{{ "%02d" | format(times[27].second) }}</a></td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[29])}}">{{ times[29].minute }}:{{ "%02d" | format(times[29].second) }}</a></td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[28])}}">{{ times[28].minute }}:{{ "%02d" | format(times[28].second) }}</a></td>
      </tr>
      <tr>
        <td>Air Base</td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[0])}}">{{ times[0].minute }}:{{ "%02d" | format(times[0].second) }}</a></td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[2])}}">{{ times[2].minute }}:{{ "%02d" | format(times[2].second) }}</a></td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[1])}}">{{ times[1].minute }}:{{ "%02d" | format(times[1].second) }}</a></td>
      </tr>
      <tr>
        <td>Air Force One</td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[3])}}">{{ times[3].minute }}:{{ "%02d" | format(times[3].second) }}</a></td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[5])}}">{{ times[5].minute }}:{{ "%02d" | format(times[5].second) }}</a></td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[4])}}">{{ times[4].minute }}:{{ "%02d" | format(times[4].second) }}</a></td>
      </tr>
      <tr>
        <td>Crash Site</td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[15])}}">{{ times[15].minute }}:{{ "%02d" | format(times[15].second) }}</a></td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[17])}}">{{ times[17].minute }}:{{ "%02d" | format(times[17].second) }}</a></td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[16])}}">{{ times[16].minute }}:{{ "%02d" | format(times[16].second) }}</a></td>
      </tr>
      <tr>
        <td>Pelagic II</td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[48])}}">{{ times[48].minute }}:{{ "%02d" | format(times[48].second) }}</a></td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[50])}}">{{ times[50].minute }}:{{ "%02d" | format(times[50].second) }}</a></td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[49])}}">{{ times[49].minute }}:{{ "%02d" | format(times[49].second) }}</a></td>
      </tr>
      <tr>
        <td>Deep Sea</td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[18])}}">{{ times[18].minute }}:{{ "%02d" | format(times[18].second) }}</a></td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[20])}}">{{ times[20].minute }}:{{ "%02d" | format(times[20].second) }}</a></td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[19])}}">{{ times[19].minute }}:{{ "%02d" | format(times[19].second) }}</a></td>
      </tr>
      <tr>
        <td>Carrington Institute</td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[9])}}">{{ times[9].minute }}:{{ "%02d" | format(times[9].second) }}</a></td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[10])}}">{{ times[11].minute }}:{{ "%02d" | format(times[11].second) }}</a></td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[11])}}">{{ times[10].minute }}:{{ "%02d" | format(times[10].second) }}</a></td>
      </tr>
      <tr>
        <td>Attack Ship</td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[6])}}">{{ times[6].minute }}:{{ "%02d" | format(times[6].second) }}</a></td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[8])}}">{{ times[8].minute }}:{{ "%02d" | format(times[8].second) }}</a></td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[7])}}">{{ times[7].minute }}:{{ "%02d" | format(times[7].second) }}</a></td>
      </tr>
      <tr>
        <td>Skedar Ruins</td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[54])}}">{{ times[54].minute }}:{{ "%02d" | format(times[54].second) }}</a></td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[56])}}">{{ times[56].minute }}:{{ "%02d" | format(times[56].second) }}</a></td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[55])}}">{{ times[55].minute }}:{{ "%02d" | format(times[55].second) }}</a></td>
      </tr>
      <tr>
        <td>Mr. Blonde's Revenge</td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[42])}}">{{ times[42].minute }}:{{ "%02d" | format(times[42].second) }}</a></td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[44])}}">{{ times[44].minute }}:{{ "%02d" | format(times[44].second) }}</a></td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[43])}}">{{ times[43].minute }}:{{ "%02d" | format(times[43].second) }}</a></td>
      </tr>
      <tr>
        <td>Maian SOS</td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[45])}}">{{ times[45].minute }}:{{ "%02d" | format(times[45].second) }}</a></td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[47])}}">{{ times[47].minute }}:{{ "%02d" | format(times[47].second) }}</a></td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[46])}}">{{ times[46].minute }}:{{ "%02d" | format(times[46].second) }}</a></td>
      </tr>
      <tr>
        <td>WAR!</td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[60])}}">{{ times[60].minute }}:{{ "%02d" | format(times[60].second) }}</a></td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[62])}}">{{ times[62].minute }}:{{ "%02d" | format(times[62].second) }}</a></td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[61])}}">{{ times[61].minute }}:{{ "%02d" | format(times[61].second) }}</a></td>
      </tr>
      <tr>
        <td>Duel</td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[24])}}">{{ times[24].minute }}:{{ "%02d" | format(times[24].second) }}</a></td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[26])}}">{{ times[26].minute }}:{{ "%02d" | format(times[26].second) }}</a></td>
        <td><a href="{{ url_for('GEPD.pd_time', id=time_id[25])}}">{{ times[25].minute }}:{{ "%02d" | format(times[25].second) }}</a></td>
      </tr>
      <tr>
        <th>Totals</th>
        <th>{% if calc[6] > 0 %}{{ calc[6] }}:{% endif %}{{ "%02d" | format(calc[7]) }}:{{ "%02d" | format(calc[8]) }}</th>
        <th>{% if calc[3] > 0 %}{{ calc[3] }}:{% endif %}{{ "%02d" | format(calc[4]) }}:{{ "%02d" | format(calc[5]) }}</th>
        <th>{% if calc[0] > 0 %}{{ calc[0] }}:{% endif %}{{ "%02d" | format(calc[1]) }}:{{ "%02d" | format(calc[2]) }}</th>
      </tr>
    </table>
    <h2>Total time: {{ calc[9] }}:{{ "%02d" | format(calc[10]) }}:{{ "%02d" | format(calc[11]) }}</h2>
    <style>
      td, th {
        text-align: center;
        width: 100px;
      }
    </style>
    <script>
        let x = document.getElementsByTagName("td")
        console.log(x)
        for (let cell=0; cell < 84; cell++) {
          if (x[cell].innerText === '20:00') {
            x[cell].style.backgroundColor = "grey";
            x[cell].innerText = 'N/A'
          }
        }
    </script>
  </div>
{% endblock %}
